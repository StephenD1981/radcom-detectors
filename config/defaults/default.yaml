# Default Configuration Template
#
# Copy this file to config/operators/<operator>_<region>.yaml
# and customize for your operator/region.

operator: UNKNOWN
region: UNKNOWN

data:
  grid: "${DATA_ROOT}/data/input-data/operator/region/grid.csv"
  gis: "${DATA_ROOT}/data/input-data/operator/region/gis.csv"
  output_base: "${DATA_ROOT}/data/output-data/operator/region"

features:
  # Overshooting Detection
  # Identifies cells serving too far from site
  overshooters:
    enabled: true
    edge_traffic_percent: 0.1        # Furthest 10% of traffic
    min_cell_distance: 5000          # Minimum 5 km range
    percent_max_distance: 0.7        # 70% of max TA
    min_cell_count_in_grid: 3        # Require competing cells
    max_percentage_grid_events: 0.25 # Max 25% traffic share
    rsrp_offset: 0.8                 # Allow 20% RSRP drop
    min_overshooting_grids: 50       # Absolute threshold
    percentage_overshooting_grids: 0.05  # 5% relative threshold

  # Undershooting Detection
  # Identifies cells with insufficient coverage
  undershooters:
    enabled: false  # Enable after validation
    min_cell_max_distance: 3000      # Short-range threshold
    min_grid_count: 100              # Minimum grids per cell
    uptilt_scenarios: [1, 2]         # Test 1° and 2° uptilt
    min_predicted_rsrp: -110.0       # Minimum RSRP after uptilt

  # Crossed Feeder Detection
  # Identifies antenna feed cable swaps
  crossed_feeders:
    enabled: true
    min_perc_grid_events: 0.1        # 10% traffic share
    min_angular_deviation: 90        # 90° misalignment
    top_percent_threshold: 0.05      # Flag top 5%

  # Interference Detection
  # Identifies multi-cell interference zones
  interference:
    enabled: false  # Enable after optimization
    min_filtered_cells_per_grid: 4   # Minimum 4 cells
    min_cell_event_count: 25         # Minimum samples
    perc_grid_events: 0.05           # 5% traffic share
    dominant_perc_grid_events: 0.3   # Dominance threshold
    dominance_diff: 10.0             # 10 dB RSRP gap
    max_rsrp_diff: 5.0               # 5 dB clustering
    k_ring: 3                        # Geohash ring size
    perc_interference: 0.33          # 33% spatial threshold

processing:
  chunk_size: 100000     # Rows per chunk
  n_workers: 4           # Parallel workers
  timeout_minutes: 60    # Processing timeout
  cache_intermediate: true  # Cache results
